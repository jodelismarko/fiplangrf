<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cfw="http://ceprofw.cepromat.mt.gov.br/components"
	xmlns:sind="http://ceprofw.cepromat.mt.gov.br/sindesa">

	<cfw:panelFloat>

		<cfw:formInputCNPJ id="numrCNPJ" labelValue="CNPJ" required="true"
			value="#{manterOcorrenciaBean.unidadeAdministrativa.numrCNPJFormatado}"
			readonly="#{!manterOcorrenciaBean.modoInclusao}"
			containerWidth="Container33">
			<p:ajax event="blur"
				listener="#{manterOcorrenciaBean.carregarUnidadeAdministrativa}"
				update="@form" />
		</cfw:formInputCNPJ>

		<cfw:formInputText id="situacaoCNPJ"
			labelValue="Situação Cadastral CNPJ" containerWidth="Container33"
			value="#{manterOcorrenciaBean.unidadeAdministrativa.situacaoCnpj.desc}"
			readonly="true" required="false" />

		<cfw:formInputText id="tipoPoder" labelValue="Tipo Poder"
			containerWidth="Container33"
			value="#{manterOcorrenciaBean.unidadeAdministrativa.tipoPoder.desc}"
			readonly="true" required="false" />

		<cfw:formInputText id="tipoAdministracao"
			labelValue="Tipo Administração" containerWidth="Container33"
			value="#{manterOcorrenciaBean.unidadeAdministrativa.tipoAdministracao.descricao}"
			readonly="true" required="false" />

		<cfw:fieldDecorator labelValue="Unidade Orçamentária"
			idComponent="unidadeOrcamentaria" containerWidth="Container33">
			<p:autoComplete id="unidadeOrcamentaria" dropdown="true"
				readonly="#{manterOcorrenciaBean.permitidoTrocarUO}" required="true"
				scrollHeight="250"
				completeMethod="#{manterOcorrenciaBean.autoCompleteUnidadeOrcamentaria}"
				containerWidth="Container33" var="unidadeOrcamentaria"
				itemLabel="#{unidadeOrcamentaria.descricaoFormatado}"
				type="br.gov.mt.mti.fiplangrf.model.fiplan.FIPLANUnidadeOrcamentaria"
				itemValue="#{unidadeOrcamentaria}" converter="entityConverter"
				value="#{manterOcorrenciaBean.ocorrencia.fiplanUnidadeOrcamentaria}"
				disabled="#{manterOcorrenciaBean.unidadeAdministrativa.unidadeCadastraFiplan eq 'NAO'}">
				<p:ajax event="change" process="@this" />
				<p:ajax event="itemSelect" process="@this" />
			</p:autoComplete>
		</cfw:fieldDecorator>

		<cfw:formInputText id="nomeEmpresarial" labelValue="Nome Empresarial"
			containerWidth="Container33"
			value="#{manterOcorrenciaBean.unidadeAdministrativa.nomeEmpresarial}"
			maxlength="20" readonly="true" required="false" />

		<cfw:fieldDecorator labelValue="Tipo Ocorrência"
			idComponent="tipoOcorrencia" containerWidth="Container33"
			responsive="true">
			<p:autoComplete id="tipoOcorrencia" dropdown="true"
				forceSelection="true"
				value="#{manterOcorrenciaBean.ocorrencia.tipoOcorrencia}"
				readonly="#{manterOcorrenciaBean.permitidoTrocarTipoOcorrencia}"
				required="true" var="tipoOcorrencia"
				itemLabel="#{tipoOcorrencia.descricao}"
				type="br.gov.mt.mti.fiplangrf.model.tabelas.TipoOcorrencia"
				itemValue="#{tipoOcorrencia}" converter="entityConverter"
				completeMethod="#{manterOcorrenciaBean.autoCompleteTipoOcorrencia}">
				<p:ajax event="change" process="@this"
					update="@([id$=grupoPendencia]), @([id$=subGrupoPendencia]), @([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshTipoOcorrencia}" />
				<p:ajax event="itemSelect" process="@this"
					update="@([id$=grupoPendencia]), @([id$=subGrupoPendencia]), @([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshTipoOcorrencia}" />
			</p:autoComplete>
		</cfw:fieldDecorator>

		<cfw:fieldDecorator labelValue="Grupo Pendência"
			idComponent="grupoPendencia" containerWidth="Container33"
			responsive="true">
			<p:autoComplete id="grupoPendencia" dropdown="true"
				forceSelection="true" required="true"
				disabled="#{manterOcorrenciaBean.autoCompleteGrupoPendenciaHabilitado}"
				value="#{manterOcorrenciaBean.ocorrencia.grupoPendencia}"
				readonly="#{(!manterOcorrenciaBean.modoInclusao and !manterOcorrenciaBean.modoAlteracao)}"
				var="grupoPendencia" itemLabel="#{grupoPendencia.descricao}"
				type="br.gov.mt.mti.fiplangrf.model.tabelas.GrupoPendencia"
				itemValue="#{grupoPendencia}" converter="entityConverter"
				completeMethod="#{manterOcorrenciaBean.autoCompleteGrupoPendencia}">
				<p:ajax event="change" process="@this"
					update="@([id$=subGrupoPendencia]), @([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshGrupoPendencia}" />
				<p:ajax event="itemSelect" process="@this"
					update="@([id$=subGrupoPendencia]), @([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshGrupoPendencia}" />
			</p:autoComplete>
		</cfw:fieldDecorator>

		<cfw:fieldDecorator labelValue="Subgrupo Pendência"
			idComponent="subGrupoPendencia" containerWidth="Container33">
			<p:autoComplete id="subGrupoPendencia" dropdown="true"
				readonly="#{(!manterOcorrenciaBean.modoInclusao and !manterOcorrenciaBean.modoAlteracao)}"
				required="true"
				disabled="#{manterOcorrenciaBean.autoCompleteSubGrupoPendenciaHabilitado}"
				completeMethod="#{manterOcorrenciaBean.autoCompleteSubGrupoPendencia}"
				containerWidth="Container33" var="item"
				itemLabel="#{item.descricao}"
				type="br.gov.mt.mti.fiplangrf.model.tabelas.SubGrupoPendencia"
				itemValue="#{item}" converter="entityConverter"
				value="#{manterOcorrenciaBean.ocorrencia.subGrupoPendencia}"
				immediate="true">
				<p:ajax event="change" process="@this"
					update="@([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshSubGrupoPendencia}" />
				<p:ajax event="itemSelect" process="@this"
					update="@([id$=tipoPendencia])"
					listener="#{manterOcorrenciaBean.refreshSubGrupoPendencia}" />
			</p:autoComplete>
		</cfw:fieldDecorator>

		<cfw:fieldDecorator labelValue="Tipo Pendência"
			idComponent="tipoPendencia" containerWidth="Container33">
			<p:autoComplete id="tipoPendencia" dropdown="true"
				readonly="#{(!manterOcorrenciaBean.modoInclusao and !manterOcorrenciaBean.modoAlteracao)}"
				required="true"
				disabled="#{manterOcorrenciaBean.autoCompleteTipoPendenciaHabilitado}"
				completeMethod="#{manterOcorrenciaBean.autoCompleteTipoPendencia}"
				containerWidth="Container33" var="tipoPendencia"
				itemLabel="#{tipoPendencia.descricao}"
				type="br.gov.mt.mti.fiplangrf.model.tabelas.TipoPendencia"
				itemValue="#{tipoPendencia}" converter="entityConverter"
				value="#{manterOcorrenciaBean.ocorrencia.tipoPendencia}"
				immediate="true">
				<p:ajax event="change" process="@this" />
				<p:ajax event="itemSelect" process="@this" />
			</p:autoComplete>
		</cfw:fieldDecorator>

		<cfw:formCalendar id="dataInscricao" labelValue="Data Inscrição"
			containerWidth="Container33"
			value="#{manterOcorrenciaBean.ocorrencia.dataInscricao}"
			readonly="#{!manterOcorrenciaBean.modoInclusao}" required="true" />

		<cfw:formInputText id="situacaoPendencia"
			labelValue="Situação Pendência" containerWidth="Container33"
			value="#{manterOcorrenciaBean.ocorrencia.situacaoPendencia.desc}"
			readonly="true" />

		<cfw:formCalendar id="dataRegularização"
			labelValue="Data Regularização" containerWidth="Container33"
			value="#{manterOcorrenciaBean.ocorrencia.dataRegularizacao}"
			readonly="true" />

	</cfw:panelFloat>

	<cfw:container containerWidth="Container100">
		<p:dataTable id="tableAcaoCoordenadoria" emptyMessage="Sem Registros."
			value="#{manterOcorrenciaBean.ocorrencia.listaAcaoCoordenadoria}"
			var="acaoCoordenadoria">
			<f:facet name="header">
				<h:outputText value="Ação Coordenadoria" style="margin-right:5px;" />
				<p:commandButton id="idAddAcaoCoordenadoria"
					actionListener="#{manterOcorrenciaBean.addNewAcaoCoordenadoria}"
					rendered="#{!manterOcorrenciaBean.modoVisualizacao and manterOcorrenciaBean.ocorrencia.situacaoPendente}"
					process="@this" update="@([id$=dlgFormAcaoCoordenadoria])"
					icon="fa fa-plus" styleClass="RaisedButton" />
			</f:facet>

			<p:column headerText="Data Cadastro" width="140">
				<h:outputText value="#{acaoCoordenadoria.dataCriacao}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
				</h:outputText>
			</p:column>

			<p:column headerText="Descrição">
				<h:outputText value="#{acaoCoordenadoria.descricao}" />
			</p:column>

			<p:column headerText="Situação" width="60">
				<h:outputText value="#{acaoCoordenadoria.situacao.desc}" />
			</p:column>

			<p:column width="100" headerText="Ações">
				<center>
					<p:commandButton id="visualizarAcaoCoordenadoria" immediate="true"
						actionListener="#{manterOcorrenciaBean.visualizarAcaoCoordenadoria(acaoCoordenadoria)}"
						icon="fa fa-file-text white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormAcaoCoordenadoria'])"/>

					<p:commandButton id="editarAcaoCoordenadoria" immediate="true"
						actionListener="#{manterOcorrenciaBean.editarAcaoCoordenadoria(acaoCoordenadoria)}"
						rendered="#{(manterOcorrenciaBean.modoInclusao or manterOcorrenciaBean.modoAlteracao) and manterOcorrenciaBean.ocorrencia.situacaoPendente}"
						icon="fa fa-pencil white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormAcaoCoordenadoria'])" />

					<p:button icon="fa fa-clock-o white Fs10"
						title="Visualizar Histórico"
						rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}"
						onclick="return setPathId('/acaoCoordenadoria/visualizarHistorico',#{acaoCoordenadoria.id})" />

					<p:commandButton icon="fa fa-trash white Fs10"
						id="excluirAcaoCoordenadoria"
						action="#{manterOcorrenciaBean.excluirAcaoCoordenadoria(acaoCoordenadoria)}"
						process="@([id$=tableAcaoCoordenadoria])"
						update="@([id$=tableAcaoCoordenadoria])"
						rendered="#{(manterUnidadeAdministrativaBean.modoInclusao or acaoCoordenadoria.id eq null) and manterOcorrenciaBean.ocorrencia.situacaoPendente}">
						<p:confirm header="Excluir Ação Coordenadoria"
							message="Deseja realmente excluir esse registro?"
							icon="ui-icon-alert" />
					</p:commandButton>
				</center>
			</p:column>

		</p:dataTable>
	</cfw:container>

	<cfw:container containerWidth="Container100">
		<p:dataTable id="tableMedidaIntermediaria"
			emptyMessage="Sem Registros"
			value="#{manterOcorrenciaBean.ocorrencia.listaMedidaIntermediaria}"
			var="medidaIntermediaria">
			<f:facet name="header">
				<h:outputText value="Medida Intermediária" style="margin-right:5px;" />
				<p:commandButton id="idAddMedidaIntermediaria"
					actionListener="#{manterOcorrenciaBean.addNewMedidaIntermediaria}"
					rendered="#{!manterOcorrenciaBean.modoVisualizacao and manterOcorrenciaBean.ocorrencia.situacaoEmRegularizacao}"
					process="@this" update="@([id$=dlgFormMedidaIntermediaria])"
					icon="fa fa-plus" styleClass="RaisedButton" />
			</f:facet>

			<p:column headerText="Data Cadastro" width="140">
				<h:outputText value="#{medidaIntermediaria.dataCriacao}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
				</h:outputText>
			</p:column>

			<p:column headerText="Descrição">
				<h:outputText value="#{medidaIntermediaria.descricao}" />
			</p:column>

			<p:column headerText="Situação" width="60">
				<h:outputText value="#{medidaIntermediaria.situacao.desc}" />
			</p:column>

			<p:column width="100" headerText="Ações">
				<center>
					<p:commandButton id="visualizarMedidaIntermediaria"
						immediate="true"
						actionListener="#{manterOcorrenciaBean.visualizar(medidaIntermediaria)}"
						icon="fa fa-file-text white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormMedidaIntermediaria'])" />

					<p:commandButton id="editarMedidaIntermediaria" immediate="true"
						actionListener="#{manterOcorrenciaBean.editarMedidaIntermediaria(medidaIntermediaria)}"
						rendered="#{(manterOcorrenciaBean.modoInclusao or manterOcorrenciaBean.modoAlteracao) and manterOcorrenciaBean.ocorrencia.situacaoEmRegularizacao}"
						icon="fa fa-pencil white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormMedidaIntermediaria'])" />

					<p:button icon="fa fa-clock-o white Fs10"
						title="Visualizar Histórico"
						rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}"
						onclick="return setPathId('/medidaIntermediaria/visualizarHistorico',#{medidaIntermediaria.id})" />

					<p:commandButton icon="fa fa-trash white Fs10"
						action="#{manterOcorrenciaBean.excluirMedidaIntermediaria(medidaIntermediaria)}"
						process="@([id$=tableMedidaIntermediaria])"
						update="@([id$=tableMedidaIntermediaria])"
						rendered="#{(manterUnidadeAdministrativaBean.modoInclusao or medidaIntermediaria.id eq null) and manterOcorrenciaBean.ocorrencia.situacaoEmRegularizacao}">

						<p:confirm header="Excluir Medida Intermediária"
							message="Deseja realmente excluir a Medida Intermediária?"
							icon="ui-icon-alert" />

					</p:commandButton>
				</center>
			</p:column>

		</p:dataTable>
	</cfw:container>

	<cfw:container containerWidth="Container100">
		<p:dataTable id="tableEncerramentoPendencia"
			emptyMessage="Sem Registros"
			value="#{manterOcorrenciaBean.ocorrencia.listaEncerramentoPendencia}"
			var="encerramentoPendencia">
			<f:facet name="header">
				<h:outputText value="Encerramento Pendência"
					style="margin-right:5px;" />
				<p:commandButton id="idAddEncerramentoPendencia"
					actionListener="#{manterOcorrenciaBean.addNewEncerramentoPendencia}"
					rendered="#{!manterOcorrenciaBean.modoVisualizacao and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}"
					process="@this" update="@([id$=dlgFormEncerramentoPendencia])"
					icon="fa fa-plus" styleClass="RaisedButton" />
			</f:facet>

			<p:column headerText="Data Cadastro" width="140">
				<h:outputText value="#{encerramentoPendencia.dataCriacao}">
					<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
				</h:outputText>
			</p:column>

			<p:column headerText="Descrição">
				<h:outputText value="#{encerramentoPendencia.descricao}" />
			</p:column>

			<p:column headerText="Situação" width="60">
				<h:outputText value="#{encerramentoPendencia.situacao.desc}" />
			</p:column>

			<p:column width="100" headerText="Ações">
				<center>
					<p:commandButton id="visualizarEncerramentoPendencia"
						immediate="true"
						actionListener="#{manterOcorrenciaBean.visualizarEncerramentoPendencia(encerramentoPendencia)}"
						icon="fa fa-file-text white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormEncerramentoPendencia'])" />

					<p:commandButton id="editarEncerramentoPendencia" immediate="true"
						actionListener="#{manterOcorrenciaBean.editarEncerramentoPendencia(encerramentoPendencia)}"
						rendered="#{(manterOcorrenciaBean.modoInclusao or manterOcorrenciaBean.modoAlteracao) and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}"
						icon="fa fa-pencil white Fs10"
						update="@([id$='crudForm']), @([id$='dlgFormEncerramentoPendencia'])" />

					<p:button icon="fa fa-clock-o white Fs10"
						title="Visualizar Histórico"
						rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}"
						onclick="return setPathId('/encerramentoPendencia/visualizarHistorico',#{encerramentoPendencia.id})" />

					<p:commandButton icon="fa fa-trash white Fs10"
						action="#{manterOcorrenciaBean.excluirEncerramentoPendencia(encerramentoPendencia)}"
						process="@([id$=tableEncerramentoPendencia])"
						update="@([id$=tableEncerramentoPendencia]) @([id$=dlgConfirmEncerramentoPendencia])"
						rendered="#{(manterOcorrenciaBean.modoInclusao or encerramentoPendencia.id eq null) and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}">
						<p:confirm header="Excluir Encerramento Pendência"
							message="Deseja realmente excluir a Encerramento Pendência?"
							icon="ui-icon-alert" />
					</p:commandButton>
				</center>
			</p:column>
		</p:dataTable>
	</cfw:container>

	<cfw:panelButtons>
		<p:outputPanel id="molduraBotoes" styleClass="ui-ceprofw-panel-botoes"
			layout="block">

			<p:commandButton id="salvar"
				actionListener="#{manterOcorrenciaBean.salvar}" value="Salvar"
				icon="fa fa-floppy-o white Fs14" styleClass="ResponsiveButton"
				process="@([id$=crudForm])" update="@([id$=crudForm])"
				rendered="#{!manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}" />

			<p:commandButton id="alterar" action="pretty:alterarOcorrencia"
				value="Alterar" icon="fa fa-floppy-o white Fs14"
				styleClass="ResponsiveButton" process="@([id$=crudForm])"
				update="@([id$=crudForm])"
				rendered="#{!manterOcorrenciaBean.ocorrencia.situacaoRegularizada and manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}" />

			<p:button id="novaPesquisa" value="Nova Pesquisa"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao}"
				onclick="return parentPopupClose()"
				icon="fa fa-mail-reply white Fs14" />

			<!-- SITUAÇÃO PENDENTE -->
			<p:commandButton id="enviarRegularizacao"
				value="Enviar para Regularização"
				actionListener="#{manterOcorrenciaBean.enviarParaRegularizacao}"
				styleClass="ResponsiveButton" process="@([id$=crudForm])"
				update="@([id$=crudForm])"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoPendente}">
				<p:confirm header="Enviar para Regularização"
					message="#{helperBean.mensagemConfirmarEnviarRegularizacao}"
					icon="ui-icon-blank" />
			</p:commandButton>

			<p:commandButton id="suspender" value="Suspender"
				actionListener="#{manterOcorrenciaBean.openPopup}"
				styleClass="ResponsiveButton" process="@([id$=crudForm])"
				update="@([id$=crudForm])" oncomplete="PF('dlgSuspender').show();"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoPendente}" />
			<!-- FIM SITUAÇÃO PENDENTE -->

			<!-- SITUAÇÃO EM_REGULARIZACAO -->
			<p:commandButton id="enviarAnalise" value="Enviar para Análise"
				actionListener="#{manterOcorrenciaBean.enviarParaAnalise}"
				styleClass="ResponsiveButton" process="@([id$=crudForm])"
				update="@([id$=crudForm])"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoEmRegularizacao}">
				<p:confirm header="Enviar para Análise"
					message="#{helperBean.mensagemConfirmarEnviarAnalise}"
					icon="ui-icon-blank" />
			</p:commandButton>
			<!-- FIM SITUAÇÃO EM_REGULARIZACAO -->

			<!-- SITUAÇÃO EM_ANALISE -->
			<p:commandButton id="finalizarOcorrencia"
				value="Finalizar Ocorrência" styleClass="ResponsiveButton"
				oncomplete="PF('dlgFinalizar').show();"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}" />


			<p:commandButton id="voltarElaboracao" value="Voltar para Elaboração"
				actionListener="#{manterOcorrenciaBean.openPopup}"
				styleClass="ResponsiveButton"
				oncomplete="PF('dlgVoltarElaboracao').show();"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}" />

			<p:commandButton id="voltarRegularizacao"
				value="Voltar para Regularização"
				actionListener="#{manterOcorrenciaBean.openPopup}"
				styleClass="ResponsiveButton"
				oncomplete="PF('dlgVoltarRegularizacao').show();"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoEmAnalise}" />

			<!-- FIM SITUAÇÃO EM_ANALISE -->

			<!-- SITUAÇÃO SUSPENSA -->
			<p:commandButton id="reativar" value="Reativar"
				actionListener="#{manterOcorrenciaBean.openPopup}"
				styleClass="ResponsiveButton" process="@([id$=crudForm])"
				update="@([id$=crudForm])" oncomplete="PF('dlgReativar').show();"
				rendered="#{manterOcorrenciaBean.modoVisualizacao and !manterOcorrenciaBean.modoExclusao and manterOcorrenciaBean.ocorrencia.situacaoSuspensa}" />
			<!-- FIM SITUAÇÃO SUSPENSA -->


			<p:commandButton id="excluir" value="Excluir"
				action="#{manterOcorrenciaBean.excluir}"
				icon="fa fa-check white Fs14" styleClass="ResponsiveButton"
				rendered="#{manterOcorrenciaBean.modoExclusao}" update="@form">
				<p:confirm header="#{helperBean.mensagemHeaderExclusao}"
					message="#{helperBean.mensagemConfirmarExclusao}"
					icon="ui-icon-alert" />
			</p:commandButton>

			<p:commandButton id="limpar" value="Limpar"
				actionListener="#{manterOcorrenciaBean.limpar}"
				icon="fa fa-eraser white Fs14" styleClass="ResponsiveButton"
				process="@this" update="@([id$=crudForm])" resetValues="true"
				rendered="#{manterOcorrenciaBean.id eq null and !manterOcorrenciaBean.modoExclusao}" />

			<p:commandButton id="cancelarEdicao" value="Cancelar"
				rendered="#{manterOcorrenciaBean.modoAlteracao}"
				action="pretty:visualizarOcorrencia" icon="fa fa-close white Fs14" />

			<p:button id="cancelarExclusao" value="Cancelar"
				rendered="#{manterOcorrenciaBean.modoExclusao or manterOcorrenciaBean.modoInclusao}"
				onclick="return parentPopupClose()" icon="fa fa-close white Fs14" />

			<p:button id="historico" value="Histórico"
				onclick="return setPathId('/ocorrencia/visualizarHistorico',#{manterOcorrenciaBean.ocorrencia.id})"
				icon="fa fa-clock-o white Fs14" styleClass="ResponsiveButton"
				rendered="#{!manterOcorrenciaBean.modoInclusao and !manterOcorrenciaBean.modoAlteracao and !manterOcorrenciaBean.modoExclusao}" />
		</p:outputPanel>
	</cfw:panelButtons>
</ui:composition>
